<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register — Datathon 2026</title>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="font" href="https://fonts.gstatic.com/s/audiowide/v20/l7gdbjpo0qta49vK0wR3-A.woff2" type="font/woff2" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&display=block" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>

    <!-- NAV -->
    <nav class="nav">
        <div class="nav-inner">
            <a href="/" class="nav-logo">DATATHON<span class="accent">- 26</span></a>
            <div class="nav-links">
                <a href="/#timeline">Timeline</a>
                <a href="/#structure">Rounds</a>
                <a href="/#pricing">Pricing</a>
                {% if user %}
                <span class="nav-name">{{ user.name }}</span>
                <a href="/dashboard">Dashboard</a>
                <a href="/logout" class="nav-logout">Logout</a>
                {% else %}
                <a href="/login" class="nav-cta">Log In</a>
                {% endif %}
            </div>
        </div>
    </nav>

    <div class="page-wrap">

        {% if success %}
        <div class="alert alert-success" style="margin-top:24px;">
            {{ message }}
        </div>
        {% elif error %}
        <div class="alert alert-error" style="margin-top:24px;">
            {{ message }}
        </div>
        {% endif %}

        {% if already_registered %}
        <section class="form-section">
            <div class="form-container" style="text-align:center; padding:60px 32px;">
                <h2 style="margin-bottom:12px;">You have Registered! &#127881;</h2>
                <p class="form-subtitle" style="margin-bottom:32px;">
                    Your team registration has been submitted successfully.<br>
                    Complete your registration on Unstop to receive your Team ID and portal credentials.
                </p>
                <a href="https://unstop.com" target="_blank" class="btn btn-primary" style="display:inline-block; text-decoration:none; font-size:1.1rem; padding:14px 40px;">
                    Go to Unstop &rarr;
                </a>
                <div style="margin-top:24px;">
                    <a href="/dashboard" class="back-link">&larr; Back to Dashboard</a>
                </div>
            </div>
        </section>
        {% else %}
        <section class="form-section">
            <div class="form-container form-container--wide">
                <div class="reg-header" style="padding:0 0 20px;">
                    <h2>Register Your Team</h2>
                    <a href="/" class="back-link">&larr; Back</a>
                </div>
                <p class="form-subtitle">Fill in your team details. Team lead will receive portal credentials.</p>

                <form method="POST" action="/register" class="registration-form">

                    <!-- Team Info -->
                    <div class="form-section-label">Team Info</div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="team_name">Team Name</label>
                            <input type="text" id="team_name" name="team_name" required placeholder="e.g. NeuralNinjas">
                        </div>
                        <div class="form-group">
                            <label for="university">University / Organization</label>
                            <input type="text" id="university" name="university" required placeholder="Your institution">
                        </div>
                    </div>

                    <!-- Team Size -->
                    <div class="form-section-label">Team Size</div>
                    <div class="form-group">
                        <label for="team_size">How many members in your team?</label>
                        <select id="team_size" name="team_size" required>
                            <option value="1">1 — Solo</option>
                            <option value="2">2 Members</option>
                            <option value="3">3 Members</option>
                            <option value="4" selected>4 Members</option>
                        </select>
                    </div>

                    <!-- Problem Statement -->
                    <div class="form-section-label">Problem Statement</div>
                    <div class="form-group">
                        <label for="problem_statement">Choose a Problem Statement</label>
                        <select id="problem_statement" name="problem_statement" required>
                            <option value="" disabled selected>-- Select a problem statement --</option>
                            <option value="PS-01">PS-01: Predictive Healthcare Analytics</option>
                            <option value="PS-02">PS-02: Smart Traffic Management</option>
                            <option value="PS-03">PS-03: Fake News Detection</option>
                            <option value="PS-04">PS-04: Crop Yield Prediction</option>
                            <option value="PS-05">PS-05: Financial Fraud Detection</option>
                            <option value="PS-06">PS-06: Energy Consumption Forecasting</option>
                            <option value="PS-07">PS-07: Customer Churn Analysis</option>
                            <option value="PS-08">PS-08: Air Quality Index Prediction</option>
                            <option value="PS-09">PS-09: Supply Chain Optimization</option>
                            <option value="PS-10">PS-10: Sentiment Analysis on Reviews</option>
                            <option value="PS-11">PS-11: Disaster Response Mapping</option>
                            <option value="PS-12">PS-12: Automated Resume Screening</option>
                            <option value="PS-13">PS-13: Water Quality Monitoring</option>
                            <option value="PS-14">PS-14: Education Dropout Prediction</option>
                            <option value="PS-15">PS-15: Real Estate Price Estimation</option>
                            <option value="PS-16">PS-16: Cybersecurity Threat Detection</option>
                            <option value="PS-17">PS-17: Sports Performance Analytics</option>
                            <option value="PS-18">PS-18: Personalized Learning Paths</option>
                            <option value="PS-19">PS-19: Urban Waste Management</option>
                            <option value="PS-20">PS-20: Social Media Trend Forecasting</option>
                        </select>
                    </div>

                    <!-- Member 1 (Leader) — always visible -->
                    <div class="form-section-label">Member 1 — Team Leader</div>
                    <div class="form-row form-row--3">
                        <div class="form-group">
                            <label for="m1_name">Full Name</label>
                            <input type="text" id="m1_name" name="m1_name" required placeholder="Full name">
                        </div>
                        <div class="form-group">
                            <label for="m1_email">Email</label>
                            <input type="email" id="m1_email" name="m1_email" required placeholder="email@example.com">
                        </div>
                        <div class="form-group">
                            <label for="m1_phone">Phone</label>
                            <input type="tel" id="m1_phone" name="m1_phone" required placeholder="+91 98765 43210">
                        </div>
                    </div>

                    <!-- Member 2 -->
                    <div id="member2-block" class="member-block">
                        <div class="form-section-label">Member 2</div>
                        <div class="form-row form-row--3">
                            <div class="form-group">
                                <label for="m2_name">Full Name</label>
                                <input type="text" id="m2_name" name="m2_name" placeholder="Full name">
                            </div>
                            <div class="form-group">
                                <label for="m2_email">Email</label>
                                <input type="email" id="m2_email" name="m2_email" placeholder="email@example.com">
                            </div>
                            <div class="form-group">
                                <label for="m2_phone">Phone</label>
                                <input type="tel" id="m2_phone" name="m2_phone" placeholder="+91 98765 43210">
                            </div>
                        </div>
                    </div>

                    <!-- Member 3 -->
                    <div id="member3-block" class="member-block">
                        <div class="form-section-label">Member 3</div>
                        <div class="form-row form-row--3">
                            <div class="form-group">
                                <label for="m3_name">Full Name</label>
                                <input type="text" id="m3_name" name="m3_name" placeholder="Full name">
                            </div>
                            <div class="form-group">
                                <label for="m3_email">Email</label>
                                <input type="email" id="m3_email" name="m3_email" placeholder="email@example.com">
                            </div>
                            <div class="form-group">
                                <label for="m3_phone">Phone</label>
                                <input type="tel" id="m3_phone" name="m3_phone" placeholder="+91 98765 43210">
                            </div>
                        </div>
                    </div>

                    <!-- Member 4 -->
                    <div id="member4-block" class="member-block">
                        <div class="form-section-label">Member 4</div>
                        <div class="form-row form-row--3">
                            <div class="form-group">
                                <label for="m4_name">Full Name</label>
                                <input type="text" id="m4_name" name="m4_name" placeholder="Full name">
                            </div>
                            <div class="form-group">
                                <label for="m4_email">Email</label>
                                <input type="email" id="m4_email" name="m4_email" placeholder="email@example.com">
                            </div>
                            <div class="form-group">
                                <label for="m4_phone">Phone</label>
                                <input type="tel" id="m4_phone" name="m4_phone" placeholder="+91 98765 43210">
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-full">
                        Submit Registration
                    </button>
                </form>

                <div class="form-footer">
                    <p>You'll also need to register on <a href="https://unstop.com" target="_blank">Unstop</a> to receive your Team ID and portal credentials.</p>
                </div>
            </div>
        </section>
        {% endif %}

        <footer class="footer">
                <div class="footer-inner">
                    <div class="footer-col">
                        <span class="nav-logo">DATATHON<span class="accent">-26</span></span>
                        <p>Presented by GirlScript Club MITAOE</p>
                        <p>&copy; 2026 Datathon MITAOE. All rights reserved.</p>
                    </div>
                    <div class="footer-col footer-contact">
                        <a href="mailto:contact@datathon26.com">girlscript@mitaoe.ac.in</a>
                        <a href="tel:+91 9561236804">+91 95612 36804</a>
                    </div>
                </div>
            </footer>    </div>

    <script>
    (function() {
        const sizeSelect = document.getElementById('team_size');
        if (!sizeSelect) return;

        function updateMembers() {
            const size = parseInt(sizeSelect.value, 10);
            for (let i = 2; i <= 4; i++) {
                const block = document.getElementById('member' + i + '-block');
                if (!block) continue;
                const visible = i <= size;
                block.style.display = visible ? '' : 'none';
                // Toggle required on inputs inside hidden blocks
                block.querySelectorAll('input').forEach(function(inp) {
                    if (visible) {
                        inp.setAttribute('required', '');
                    } else {
                        inp.removeAttribute('required');
                        inp.value = '';
                    }
                });
            }
        }

        sizeSelect.addEventListener('change', updateMembers);
        updateMembers();
    })();
    </script>

</body>
</html>
